namespace = fae_birth

# On_birth: Child of Fae gains Fae Blooded at birth.
fae_birth.0001 = {
	type = character_event
	hidden = yes
	
	trigger = {
		OR = { # Either mother has pure blood or both mother and father has partial blood
			AND = {
				exists = mother
				mother = {
					OR = {
						has_trait = fae_queen
						has_trait = fae_blood
					}
				}
			}
			AND = {
				exists = mother
				mother = { has_trait = demi_fae_blood }

				exists = scope:real_father
				scope:real_father = { has_trait = demi_fae_blood }
			}
		}
		NOR = {
			has_trait = fae_queen
			has_trait = fae_blood
			has_trait = demi_fae_blood
		}
	}
	
	immediate = {
		add_trait = fae_blood
	}
}

# On_birth: Child of Fae gains Demi Fae Blooded at birth.
fae_birth.0002 = {
	type = character_event
	hidden = yes
	
	trigger = {
		OR = { # Either only mother has partial blood or father has pure blood (if both mother and father has demi then child gets pure blood)
			AND = {
				exists = mother
				mother = { has_trait = demi_fae_blood }

				exists = scope:real_father
				scope:real_father = { NOT = { has_trait = demi_fae_blood } }
			}
			AND = {
				exists = scope:real_father
				scope:real_father = {
					OR = {
						has_trait = fae_queen
						has_trait = fae_blood
					}
				}
			}
		}
		NOR = {
			has_trait = fae_queen
			has_trait = fae_blood
			has_trait = demi_fae_blood
		}
	}
	
	immediate = {
		add_trait = demi_fae_blood
	}
}